{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/franciscohormazabal/code/fcophox-website-26/src/app/api/translate/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nconst translate = require('google-translate-api-x');\n\nexport async function POST(request: Request) {\n    try {\n        const { text, title } = await request.json();\n\n        if (!text && !title) {\n            return NextResponse.json(\n                { error: 'Content or title is required' },\n                { status: 400 }\n            );\n        }\n\n        console.log(\"Translating article using Google Translate (Free)...\");\n\n        let translatedTitle = \"\";\n        let translatedContent = \"\";\n\n        // Translate Title\n        if (title) {\n            try {\n                // @ts-ignore\n                const titleRes = await translate(title, { to: 'en' });\n                translatedTitle = titleRes.text;\n            } catch (e) {\n                console.error(\"Error translating title:\", e);\n                translatedTitle = title; // Fallback\n            }\n        }\n\n        // Translate Content\n        if (text) {\n            try {\n                // @ts-ignore\n                const contentRes = await translate(text, { to: 'en' });\n                translatedContent = contentRes.text;\n            } catch (e) {\n                console.error(\"Error translating content:\", e);\n                translatedContent = text; // Fallback\n            }\n        }\n\n        // Generate Slug from translated title\n        let translatedSlug = \"\";\n        if (translatedTitle) {\n            translatedSlug = translatedTitle\n                .toLowerCase()\n                .trim()\n                .replace(/[^\\w\\s-]/g, '') // Remove non-word chars\n                .replace(/[\\s_-]+/g, '-') // Replace spaces with -\n                .replace(/^-+|-+$/g, ''); // Trim -\n        }\n\n        console.log(\"Translation complete\");\n\n        return NextResponse.json({\n            title: translatedTitle,\n            slug: translatedSlug,\n            content: translatedContent\n        });\n\n    } catch (error: any) {\n        console.error('Translation error:', error);\n        return NextResponse.json(\n            { error: error.message || 'Error occurred during translation' },\n            { status: 500 }\n        );\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM;AAEC,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE1C,IAAI,CAAC,QAAQ,CAAC,OAAO;YACjB,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAA+B,GACxC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,QAAQ,GAAG,CAAC;QAEZ,IAAI,kBAAkB;QACtB,IAAI,oBAAoB;QAExB,kBAAkB;QAClB,IAAI,OAAO;YACP,IAAI;gBACA,aAAa;gBACb,MAAM,WAAW,MAAM,UAAU,OAAO;oBAAE,IAAI;gBAAK;gBACnD,kBAAkB,SAAS,IAAI;YACnC,EAAE,OAAO,GAAG;gBACR,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,kBAAkB,OAAO,WAAW;YACxC;QACJ;QAEA,oBAAoB;QACpB,IAAI,MAAM;YACN,IAAI;gBACA,aAAa;gBACb,MAAM,aAAa,MAAM,UAAU,MAAM;oBAAE,IAAI;gBAAK;gBACpD,oBAAoB,WAAW,IAAI;YACvC,EAAE,OAAO,GAAG;gBACR,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,oBAAoB,MAAM,WAAW;YACzC;QACJ;QAEA,sCAAsC;QACtC,IAAI,iBAAiB;QACrB,IAAI,iBAAiB;YACjB,iBAAiB,gBACZ,WAAW,GACX,IAAI,GACJ,OAAO,CAAC,aAAa,IAAI,wBAAwB;aACjD,OAAO,CAAC,YAAY,KAAK,wBAAwB;aACjD,OAAO,CAAC,YAAY,KAAK,SAAS;QAC3C;QAEA,QAAQ,GAAG,CAAC;QAEZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO;YACP,MAAM;YACN,SAAS;QACb;IAEJ,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO,MAAM,OAAO,IAAI;QAAoC,GAC9D;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}